version: '3.8'

# Development compose file - use with: docker compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  postgres:
    ports:
      - "5432:5432"

  api:
    ports:
      - "5000:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ConnectionStrings__DefaultConnection=Host=postgres;Port=5432;Database=${POSTGRES_DB:-relate_mail};Username=${POSTGRES_USER:-postgres};Password=${POSTGRES_PASSWORD:?err}
      - Cors__AllowedOrigins__0=http://localhost:5173
      - Cors__AllowedOrigins__1=http://localhost:3000

  smtp:
    environment:
      - Logging__LogLevel__Default=Debug
