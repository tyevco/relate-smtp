# EditorConfig for Relate Mail .NET projects
root = true

[*]
indent_style = space
indent_size = 4
end_of_line = lf
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true

[*.{cs,vb}]
# --- Naming conventions ---
dotnet_naming_rule.interfaces_must_begin_with_i.symbols = interface_symbols
dotnet_naming_rule.interfaces_must_begin_with_i.style = begins_with_i
dotnet_naming_rule.interfaces_must_begin_with_i.severity = error
dotnet_naming_symbol.interface_symbols.applicable_kinds = interface
dotnet_naming_style.begins_with_i.required_prefix = I
dotnet_naming_style.begins_with_i.capitalization = pascal_case

dotnet_naming_rule.async_methods_end_with_async.symbols = async_method_symbols
dotnet_naming_rule.async_methods_end_with_async.style = ends_with_async
dotnet_naming_rule.async_methods_end_with_async.severity = suggestion
dotnet_naming_symbol.async_method_symbols.applicable_kinds = method
dotnet_naming_symbol.async_method_symbols.required_modifiers = async
dotnet_naming_style.ends_with_async.required_suffix = Async
dotnet_naming_style.ends_with_async.capitalization = pascal_case

dotnet_naming_rule.private_fields_camel_case.symbols = private_field_symbols
dotnet_naming_rule.private_fields_camel_case.style = camel_with_underscore
dotnet_naming_rule.private_fields_camel_case.severity = warning
dotnet_naming_symbol.private_field_symbols.applicable_kinds = field
dotnet_naming_symbol.private_field_symbols.applicable_accessibilities = private, protected
dotnet_naming_style.camel_with_underscore.required_prefix = _
dotnet_naming_style.camel_with_underscore.capitalization = camel_case

# IDE1006: Naming rule violations - set to suggestion to allow dotnet format to pass
# Individual naming rules above control the actual severity in the IDE
dotnet_diagnostic.IDE1006.severity = suggestion

# --- Code style ---
dotnet_style_qualification_for_field = false:warning
dotnet_style_qualification_for_property = false:warning
dotnet_style_qualification_for_method = false:warning
dotnet_style_qualification_for_event = false:warning
dotnet_style_predefined_type_for_locals_parameters_members = true:warning
dotnet_style_predefined_type_for_member_access = true:warning
dotnet_style_require_accessibility_modifiers = for_non_interface_members:warning
dotnet_style_readonly_field = true:warning

# Expression-level preferences
csharp_style_var_for_built_in_types = false:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = true:suggestion
csharp_prefer_simple_using_statement = true:warning
csharp_style_prefer_method_group_conversion = true:suggestion
csharp_style_namespace_declarations = file_scoped:warning
csharp_style_prefer_primary_constructors = true:suggestion

# Null checking
csharp_style_throw_expression = true:warning
csharp_style_conditional_delegate_call = true:warning
dotnet_style_coalesce_expression = true:warning
dotnet_style_null_propagation = true:warning
csharp_style_prefer_null_check_over_type_check = true:warning
dotnet_style_prefer_is_null_check_over_reference_equality_method = true:warning

# Pattern matching
csharp_style_prefer_pattern_matching = true:suggestion
csharp_style_prefer_switch_expression = true:suggestion
csharp_style_prefer_not_pattern = true:suggestion

# --- Security-focused analyzer rules ---
# CA2100: Review SQL queries for security vulnerabilities
dotnet_diagnostic.CA2100.severity = error
# CA2300-CA2330: Deserialization vulnerabilities
dotnet_diagnostic.CA2300.severity = error
dotnet_diagnostic.CA2301.severity = error
dotnet_diagnostic.CA2302.severity = error
dotnet_diagnostic.CA2305.severity = error
dotnet_diagnostic.CA2310.severity = error
dotnet_diagnostic.CA2311.severity = error
dotnet_diagnostic.CA2312.severity = error
dotnet_diagnostic.CA2315.severity = error
dotnet_diagnostic.CA2321.severity = error
dotnet_diagnostic.CA2322.severity = error
dotnet_diagnostic.CA2326.severity = error
dotnet_diagnostic.CA2327.severity = error
dotnet_diagnostic.CA2328.severity = error
dotnet_diagnostic.CA2329.severity = error
dotnet_diagnostic.CA2330.severity = error
# CA2350-CA2361: DataSet/DataTable deserialization
dotnet_diagnostic.CA2350.severity = error
dotnet_diagnostic.CA2351.severity = error
dotnet_diagnostic.CA2352.severity = error
dotnet_diagnostic.CA2353.severity = error
dotnet_diagnostic.CA2354.severity = error
dotnet_diagnostic.CA2355.severity = error
dotnet_diagnostic.CA2356.severity = error
dotnet_diagnostic.CA2361.severity = error
# CA2200: Rethrow to preserve stack details
dotnet_diagnostic.CA2200.severity = error
# CA3001-CA3012: Input validation / injection
dotnet_diagnostic.CA3001.severity = error
dotnet_diagnostic.CA3002.severity = error
dotnet_diagnostic.CA3003.severity = error
dotnet_diagnostic.CA3004.severity = error
dotnet_diagnostic.CA3005.severity = error
dotnet_diagnostic.CA3006.severity = error
dotnet_diagnostic.CA3007.severity = error
dotnet_diagnostic.CA3008.severity = error
dotnet_diagnostic.CA3009.severity = error
dotnet_diagnostic.CA3010.severity = error
dotnet_diagnostic.CA3011.severity = error
dotnet_diagnostic.CA3012.severity = error
# CA3061: Do not add schema by URL
dotnet_diagnostic.CA3061.severity = error
# CA3075-CA3077: XML security
dotnet_diagnostic.CA3075.severity = error
dotnet_diagnostic.CA3076.severity = error
dotnet_diagnostic.CA3077.severity = error
# CA3147: Mark verb handlers with ValidateAntiForgeryToken
dotnet_diagnostic.CA3147.severity = error
# CA5350-CA5405: Cryptography
dotnet_diagnostic.CA5350.severity = error
dotnet_diagnostic.CA5351.severity = error
dotnet_diagnostic.CA5358.severity = error
dotnet_diagnostic.CA5359.severity = error
dotnet_diagnostic.CA5360.severity = error
dotnet_diagnostic.CA5361.severity = error
dotnet_diagnostic.CA5362.severity = error
dotnet_diagnostic.CA5363.severity = error
dotnet_diagnostic.CA5364.severity = error
dotnet_diagnostic.CA5365.severity = error
dotnet_diagnostic.CA5366.severity = error
dotnet_diagnostic.CA5367.severity = error
dotnet_diagnostic.CA5368.severity = error
dotnet_diagnostic.CA5369.severity = error
dotnet_diagnostic.CA5370.severity = error
dotnet_diagnostic.CA5371.severity = error
dotnet_diagnostic.CA5372.severity = error
dotnet_diagnostic.CA5373.severity = error
dotnet_diagnostic.CA5374.severity = error
dotnet_diagnostic.CA5375.severity = error
dotnet_diagnostic.CA5376.severity = error
dotnet_diagnostic.CA5377.severity = error
dotnet_diagnostic.CA5378.severity = error
dotnet_diagnostic.CA5379.severity = error
dotnet_diagnostic.CA5380.severity = error
dotnet_diagnostic.CA5381.severity = error
dotnet_diagnostic.CA5382.severity = error
dotnet_diagnostic.CA5383.severity = error
dotnet_diagnostic.CA5384.severity = error
dotnet_diagnostic.CA5385.severity = error
dotnet_diagnostic.CA5386.severity = error
dotnet_diagnostic.CA5387.severity = error
dotnet_diagnostic.CA5388.severity = error
dotnet_diagnostic.CA5389.severity = error
dotnet_diagnostic.CA5390.severity = error
dotnet_diagnostic.CA5391.severity = error
dotnet_diagnostic.CA5392.severity = error
dotnet_diagnostic.CA5393.severity = error
dotnet_diagnostic.CA5394.severity = warning
dotnet_diagnostic.CA5395.severity = error
dotnet_diagnostic.CA5396.severity = error
dotnet_diagnostic.CA5397.severity = error
dotnet_diagnostic.CA5398.severity = error
dotnet_diagnostic.CA5399.severity = error
dotnet_diagnostic.CA5400.severity = error
dotnet_diagnostic.CA5401.severity = error
dotnet_diagnostic.CA5402.severity = error
dotnet_diagnostic.CA5403.severity = error
dotnet_diagnostic.CA5404.severity = error
dotnet_diagnostic.CA5405.severity = error

# --- Reliability rules ---
# CA2000: Dispose objects before losing scope
dotnet_diagnostic.CA2000.severity = warning
# CA2007: Consider calling ConfigureAwait on the awaited task
dotnet_diagnostic.CA2007.severity = none
# CA2008: Do not create tasks without passing a TaskScheduler
dotnet_diagnostic.CA2008.severity = warning
# CA2012: Use ValueTasks correctly
dotnet_diagnostic.CA2012.severity = error
# CA2013: Do not use ReferenceEquals with value types
dotnet_diagnostic.CA2013.severity = error
# CA2014: Do not use stackalloc in loops
dotnet_diagnostic.CA2014.severity = error
# CA2016: Forward the CancellationToken parameter
dotnet_diagnostic.CA2016.severity = warning
# CA2017: Parameter count mismatch in logging
dotnet_diagnostic.CA2017.severity = error
# CA2018: Buffer.BlockCopy expects byte count
dotnet_diagnostic.CA2018.severity = error

# --- Performance rules ---
# CA1802: Use literals where appropriate
dotnet_diagnostic.CA1802.severity = warning
# CA1805: Do not initialize unnecessarily
dotnet_diagnostic.CA1805.severity = suggestion
# CA1812: Avoid uninstantiated internal classes
dotnet_diagnostic.CA1812.severity = none
# CA1822: Mark members as static
dotnet_diagnostic.CA1822.severity = suggestion
# CA1848: Use the LoggerMessage delegates
dotnet_diagnostic.CA1848.severity = suggestion
# CA1860: Avoid using 'Enumerable.Any()' extension method
dotnet_diagnostic.CA1860.severity = suggestion
# CA1861: Prefer 'static readonly' fields over constant array arguments
dotnet_diagnostic.CA1861.severity = warning
# CA1862: Use the 'StringComparison' method overloads
dotnet_diagnostic.CA1862.severity = warning

# --- Design rules ---
# CA1000: Do not declare static members on generic types
dotnet_diagnostic.CA1000.severity = suggestion
# CA1010: Generic interface should be implemented
dotnet_diagnostic.CA1010.severity = suggestion
# CA1031: Do not catch general exception types
dotnet_diagnostic.CA1031.severity = warning
# CA1032: Implement standard exception constructors
dotnet_diagnostic.CA1032.severity = suggestion
# CA1034: Nested types should not be visible
dotnet_diagnostic.CA1034.severity = suggestion
# CA1051: Do not declare visible instance fields
dotnet_diagnostic.CA1051.severity = warning
# CA1052: Static holder types should be Static or NotInheritable
dotnet_diagnostic.CA1052.severity = warning
# CA1054: URI parameters should not be strings
dotnet_diagnostic.CA1054.severity = suggestion
# CA1062: Validate arguments of public methods
dotnet_diagnostic.CA1062.severity = suggestion
# CA1063: Implement IDisposable correctly
dotnet_diagnostic.CA1063.severity = warning

# --- Usage rules ---
# CA2211: Non-constant fields should not be visible
dotnet_diagnostic.CA2211.severity = warning
# CA2219: Do not raise exceptions in finally clauses
dotnet_diagnostic.CA2219.severity = error
# CA2241: Provide correct arguments to formatting methods
dotnet_diagnostic.CA2241.severity = error
# CA2242: Test for NaN correctly
dotnet_diagnostic.CA2242.severity = error
# CA2245: Do not assign a property to itself
dotnet_diagnostic.CA2245.severity = error
# CA2246: Assigning symbol and its member in the same statement
dotnet_diagnostic.CA2246.severity = error
# CA2248: Provide correct enum argument to Enum.HasFlag
dotnet_diagnostic.CA2248.severity = error
# CA2249: Consider using String.Contains instead of String.IndexOf
dotnet_diagnostic.CA2249.severity = warning
# CA2250: Use ThrowIfCancellationRequested
dotnet_diagnostic.CA2250.severity = warning
# CA2251: Use String.Equals over String.Compare
dotnet_diagnostic.CA2251.severity = warning
# CA2252: Opt in to preview features before using them
dotnet_diagnostic.CA2252.severity = error
# CA2253: Named placeholders should not be numeric values
dotnet_diagnostic.CA2253.severity = warning
# CA2254: Template should be a static expression
dotnet_diagnostic.CA2254.severity = warning

[*.{csproj,props,targets}]
indent_size = 2
